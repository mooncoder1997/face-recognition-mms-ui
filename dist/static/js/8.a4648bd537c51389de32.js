webpackJsonp([8],{J8wV:function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=s("//Fk"),u=s.n(t),o=s("vMJZ"),a={name:"ChangePassword",data:function(){var e=this;return{formCustom:{passwd:"",passwdCheck:""},ruleCustom:{passwd:[{validator:function(r,s,t){""===s?t(new Error("请输入密码!")):(""!==e.formCustom.passwdCheck&&e.$refs.formCustom.validateField("passwdCheck"),t())},trigger:"blur"}],passwdCheck:[{validator:function(r,s,t){""===s?t(new Error("请再输一次密码！")):s!==e.formCustom.passwd?t(new Error("两次输入的密码不匹配！")):t()},trigger:"blur"}]}}},methods:{updatePassword:function(e){var r=this;this.$refs[e].validate(function(e){if(e)return new u.a(function(e,s){Object(o.e)(r.userId,r.formCustom.passwd).then(function(e){console.log(r.userId),201===(e=e.data).code?(r.$Message.success("修改密码成功，请重新登录！"),r.$store.commit("setUser",{userId:"",userName:"",userGender:"",userEmail:"",userRoleName:""}),r.$router.replace({name:"Login"})):r.$Message.error(e.message)})});r.$Message.error("修改密码失败！")})},handleReset:function(e){this.$refs[e].resetFields()}},computed:{userId:function(){return this.$store.state.user.userId}}},n={render:function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("Form",{ref:"formCustom",attrs:{model:e.formCustom,rules:e.ruleCustom,"label-width":80}},[s("FormItem",{attrs:{label:"新密码: ",prop:"passwd"}},[s("Input",{attrs:{type:"password"},model:{value:e.formCustom.passwd,callback:function(r){e.$set(e.formCustom,"passwd",r)},expression:"formCustom.passwd"}})],1),e._v(" "),s("FormItem",{attrs:{label:"确认: ",prop:"passwdCheck"}},[s("Input",{attrs:{type:"password"},model:{value:e.formCustom.passwdCheck,callback:function(r){e.$set(e.formCustom,"passwdCheck",r)},expression:"formCustom.passwdCheck"}})],1),e._v(" "),s("FormItem",[s("Button",{attrs:{type:"primary"},on:{click:function(r){return e.updatePassword("formCustom")}}},[e._v("确认修改")]),e._v(" "),s("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(r){return e.handleReset("formCustom")}}},[e._v("重置")])],1)],1)},staticRenderFns:[]};var m=s("VU/8")(a,n,!1,function(e){s("mFO+")},"data-v-f1bec0cc",null);r.default=m.exports},"mFO+":function(e,r){},vMJZ:function(e,r,s){"use strict";r.d=function(e){return Object(t.a)({url:"/mms-provider-user/api/v1/users/"+e,method:"get"})},r.c=function(){return Object(t.a)({url:"/mms-provider-user/api/v1/users",method:"get"})},r.f=function(e,r,s,u,o,a,n){var m={userId:e,userName:r,userGender:s,userEmail:u,userMobile:o,userRoleName:a,userRemarks:n};return Object(t.a)({url:"/mms-provider-user/api/v1/user",method:"put",data:m})},r.e=function(e,r){var s={userId:e,userPassword:r};return Object(t.a)({url:"/mms-provider-user/api/v1/user",method:"put",data:s})},r.b=function(e){return Object(t.a)({url:"/mms-provider-user/api/v1/user/"+e,method:"delete"})},r.a=function(e,r,s,u,o,a,n,m){var d={userId:e,userPassword:r,userName:s,userGender:u,userEmail:o,userMobile:a,userRoleName:n,userRemarks:m};return Object(t.a)({url:"/mms-provider-user/api/v1/user",method:"post",data:d})};var t=s("D/cR")}});
//# sourceMappingURL=8.a4648bd537c51389de32.js.map