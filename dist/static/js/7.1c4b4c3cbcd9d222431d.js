webpackJsonp([7],{"22PG":function(o,e,t){"use strict";e.d=function(o){return Object(a.a)({url:"/mms-provider-meeting/api/v1/rooms/"+o,method:"get"})},e.c=function(){return Object(a.a)({url:"/mms-provider-meeting/api/v1/rooms",method:"get"})},e.b=function(o){return Object(a.a)({url:"/mms-provider-meeting/api/v1/rooms/"+o,method:"delete"})},e.e=function(o,e,t,r){const n={roomName:o,roomLocation:e,roomPeople:t,roomRemarks:r};return Object(a.a)({url:"/mms-provider-meeting/api/v1/room",method:"put",data:n})},e.a=function(o,e,t,r){const n={roomName:o,roomLocation:e,roomPeople:t,roomRemarks:r};return Object(a.a)({url:"/mms-provider-meeting/api/v1/room",method:"post",data:n})};var a=t("D/cR")},BgMr:function(o,e){},yVm5:function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("//Fk"),r=t.n(a),n=t("22PG"),i={name:"RoomManage",data:function(){return{loading:!0,isAddRoom:!1,searchRoomName:"",maxPeople:10,columns:[{title:"会议室名称",slot:"roomName",key:"roomName",minWidth:120,align:"center"},{title:"位置",slot:"roomLocation",key:"roomLocation",sortable:!0,minWidth:120,align:"center",filters:[{label:"L1",value:1},{label:"L2",value:2},{label:"L3",value:3}],filterMultiple:!1,filterMethod:function(o,e){return 1===o?"L1"===e.roomLocation:2===o?"L2"===e.roomLocation:3===o?"L3"===e.roomLocation:void 0}},{title:"最大容纳人数",slot:"roomPeople",key:"roomPeople",sortable:!0,minWidth:150,align:"center",filters:[{label:"大于4人",value:1},{label:"大于6人",value:2},{label:"大于10人",value:3},{label:"大于15人",value:4}],filterMultiple:!1,filterMethod:function(o,e){return 1===o?e.roomPeople>=4:2===o?e.roomPeople>=6:3===o?e.roomPeople>=10:4===o?e.roomPeople>=15:void 0}},{title:"备注",slot:"roomRemarks",key:"roomRemarks",minWidth:120,align:"center"},{title:"操作",slot:"action",minWidth:230,align:"center"}],data:[],editIndex:-1,editRoomName:"",editRoomLocation:"",editRoomPeople:"",editRoomRemarks:"",formValidate:{roomName:"",roomLocation:"",roomRemarks:""},ruleValidate:{roomName:[{required:!0,message:"会议室名称不能为空！",trigger:"blur"}],roomLocation:[{required:!0,message:"会议室位置不能为空！",trigger:"blur"}]}}},methods:{queryRoomByRoomName:function(o){var e=this;if(o)return new r.a(function(t,a){Object(n.d)(o).then(function(o){if(200===o.status){var t=[];t.push(o.data),e.data=t,e.$Message.success("查询会议室成功！")}else e.data=[],e.$Message.error("查询会议室失败！")})});this.queryAllRoom()},queryAllRoom:function(){var o=this;return new r.a(function(e,t){Object(n.c)().then(function(e){200===e.status?(o.$Message.success("查询所有会议室成功！"),o.data=e.data,o.loading=!1):o.$Message.error("查询所有会议室失败！")})}).catch(function(o){reject(o)})},updateRoom:function(o,e,t,a){var i=this;return new r.a(function(r,m){Object(n.e)(o,e,t,a).then(function(o){201===o.status?i.$Message.success("更新会议室成功！"):i.$Message.error("更新会议室失败")})})},deleteRoomByRoomName:function(o){var e=this;return new r.a(function(t,a){Object(n.b)(o).then(function(o){204===o.status?e.$Message.success("删除会议室成功！"):e.$Message.error("删除会议室失败！")})})},addRoom:function(){var o=this;return new r.a(function(e,t){Object(n.a)(o.$refs.addRoomForm.model.roomName,o.$refs.addRoomForm.model.roomLocation,o.maxPeople,o.$refs.addRoomForm.model.roomRemarks).then(function(e){201===e.status?(o.$Message.success("添加会议室成功！"),o.data.push({roomName:o.$refs.addRoomForm.model.roomName,roomLocation:o.$refs.addRoomForm.model.roomLocation,roomPeople:o.maxPeople,roomRemarks:o.$refs.addRoomForm.model.roomRemarks})):o.$Message.error("添加会议室失败！")})})},handleDelete:function(o,e){this.deleteRoomByRoomName(o.roomName),this.data.splice(e,1)},handleCancel:function(){this.$Message.info("取消删除")},handleEdit:function(o,e){this.editRoomName=o.roomName,this.editRoomLocation=o.roomLocation,this.editRoomPeople=o.roomPeople,this.editRoomRemarks=o.roomRemarks,this.editIndex=e},handleSave:function(o){this.data[o].roomName=this.editRoomName,this.data[o].roomLocation=this.editRoomLocation,this.data[o].roomPeople=this.editRoomPeople,this.data[o].roomRemarks=this.editRoomRemarks,this.editIndex=-1,this.updateRoom(this.editRoomName,this.editRoomLocation,this.editRoomPeople,this.editRoomRemarks)},exportData:function(){this.$refs.roomTable.exportCsv({filename:"会议室表"}),this.$Message.success("导出会议室表成功")}},mounted:function(){this.queryAllRoom()}},m={render:function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("div",[t("div",{staticClass:"query-c"},[o._v("\n    查询指定会议室：\n    "),t("Input",{staticStyle:{width:"auto"},attrs:{search:"",placeholder:"请输入会议室名称"},on:{"on-search":o.queryRoomByRoomName},model:{value:o.searchRoomName,callback:function(e){o.searchRoomName=e},expression:"searchRoomName"}}),o._v(" "),t("Button",{attrs:{type:"primary",icon:"ios-add-circle-outline"},on:{click:function(e){o.isAddRoom=!0}}},[o._v("添加会议室")])],1),o._v(" "),t("br"),o._v(" "),t("Table",{ref:"roomTable",attrs:{border:"",stripe:"",columns:o.columns,data:o.data,loading:o.loading},scopedSlots:o._u([{key:"roomName",fn:function(e){var a=e.row,r=e.index;return[o.editIndex===r?t("Input",{attrs:{type:"text"},model:{value:o.editRoomName,callback:function(e){o.editRoomName=e},expression:"editRoomName"}}):t("span",[o._v(o._s(a.roomName))])]}},{key:"roomLocation",fn:function(e){var a=e.row,r=e.index;return[o.editIndex===r?t("Input",{attrs:{type:"text"},model:{value:o.editRoomLocation,callback:function(e){o.editRoomLocation=e},expression:"editRoomLocation"}}):t("span",[o._v(o._s(a.roomLocation))])]}},{key:"roomPeople",fn:function(e){var a=e.row,r=e.index;return[o.editIndex===r?t("Input",{attrs:{type:"text"},model:{value:o.editRoomPeople,callback:function(e){o.editRoomPeople=e},expression:"editRoomPeople"}}):t("span",[o._v(o._s(a.roomPeople))])]}},{key:"roomRemarks",fn:function(e){var a=e.row,r=e.index;return[o.editIndex===r?t("Input",{attrs:{type:"text"},model:{value:o.editRoomRemarks,callback:function(e){o.editRoomRemarks=e},expression:"editRoomRemarks"}}):t("span",[o._v(o._s(a.roomRemarks))])]}},{key:"action",fn:function(e){var a=e.row,r=e.index;return[o.editIndex===r?t("div",[t("Button",{attrs:{type:"success",icon:"md-checkmark",size:"small"},on:{click:function(e){return o.handleSave(r)}}},[o._v("保存")]),o._v(" "),t("Button",{attrs:{type:"warning",icon:"md-close",size:"small"},on:{click:function(e){o.editIndex=-1}}},[o._v("取消")]),o._v(" "),t("Poptip",{attrs:{confirm:"",title:"您确定删除这条内容吗?",placement:"top-end",transfer:"","ok-text":"确定","cancel-text":"取消"},on:{"on-ok":function(e){return o.handleDelete(a,r)},"on-cancel":o.handleCancel}},[t("Button",{attrs:{type:"error",icon:"md-trash",size:"small"}},[o._v("删除")])],1)],1):t("div",[t("Button",{attrs:{type:"info",icon:"md-create",size:"small"},on:{click:function(e){return o.handleEdit(a,r)}}},[o._v("操作")]),o._v(" "),t("Poptip",{attrs:{confirm:"",title:"您确定删除这条内容吗?",placement:"top-end",transfer:"","ok-text":"确定","cancel-text":"取消"},on:{"on-ok":function(e){return o.handleDelete(a,r)},"on-cancel":o.handleCancel}},[t("Button",{attrs:{type:"error",icon:"md-trash",size:"small"}},[o._v("删除")])],1)],1)]}}])}),o._v(" "),t("br"),o._v(" "),t("Button",{attrs:{type:"primary"},on:{click:o.exportData}},[t("Icon",{attrs:{type:"ios-download-outline"}}),o._v("\n    导出数据\n  ")],1),o._v(" "),t("Modal",{attrs:{title:"添加新的会议室"},on:{"on-ok":o.addRoom,"on-cancel":o.cancel},model:{value:o.isAddRoom,callback:function(e){o.isAddRoom=e},expression:"isAddRoom"}},[t("Form",{ref:"addRoomForm",attrs:{model:o.formValidate,rules:o.ruleValidate,"label-width":90}},[t("FormItem",{attrs:{label:"会议室名称: ",prop:"roomName"}},[t("Input",{attrs:{placeholder:"请输入会议室名称..."},model:{value:o.formValidate.roomName,callback:function(e){o.$set(o.formValidate,"roomName",e)},expression:"formValidate.roomName"}},[t("Icon",{attrs:{slot:"prepend",type:"ios-easel-outline"},slot:"prepend"})],1)],1),o._v(" "),t("FormItem",{attrs:{label:"会议室位置: ",prop:"roomLocation"}},[t("Input",{attrs:{placeholder:"请输入会议室位置..."},model:{value:o.formValidate.roomLocation,callback:function(e){o.$set(o.formValidate,"roomLocation",e)},expression:"formValidate.roomLocation"}},[t("Icon",{attrs:{slot:"prepend",type:"ios-navigate-outline"},slot:"prepend"})],1)],1),o._v(" "),t("FormItem",{attrs:{label:"最大容纳人数: ",prop:"roomPeople"}},[t("Slider",{attrs:{"show-input":""},model:{value:o.maxPeople,callback:function(e){o.maxPeople=e},expression:"maxPeople"}})],1),o._v(" "),t("FormItem",{attrs:{label:"备注: ",prop:"roomRemarks"}},[t("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5}},model:{value:o.formValidate.roomRemarks,callback:function(e){o.$set(o.formValidate,"roomRemarks",e)},expression:"formValidate.roomRemarks"}})],1)],1)],1)],1)},staticRenderFns:[]};var s=t("VU/8")(i,m,!1,function(o){t("BgMr")},"data-v-1134e664",null);e.default=s.exports}});
//# sourceMappingURL=7.1c4b4c3cbcd9d222431d.js.map